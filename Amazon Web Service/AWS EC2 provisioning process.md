# Amazon EC2 인스턴스 생성 과정

## 사용자 요청
사용자가 AWS Management Console, AWS CLI, SDK 또는 API를 통해 EC2 인스턴스를 생성하는 요청을 보냅니다.

## 요청 처리
AWS가 요청을 수신하고 유효성을 검사한 후 처리하기 시작합니다.

## 리소스 할당
- AWS는 요청된 리전에서 사용 가능한 물리적 하드웨어 자원을 확인합니다.
- 지정된 인스턴스 유형에 맞는 CPU, 메모리, 네트워크 및 스토리지 자원을 할당합니다.

## AMI (Amazon Machine Image) 준비
- 사용자가 선택한 AMI를 기반으로 새로운 인스턴스가 생성됩니다.
- AMI는 운영 체제, 애플리케이션 서버, 응용 프로그램 등을 포함하는 템플릿 역할을 합니다.

## 인스턴스 프로비저닝
- AWS는 선택된 인스턴스 유형과 AMI를 기반으로 가상 머신을 생성합니다.
- 가상 머신이 물리적 서버의 ***하이퍼바이저*** 상에서 실행됩니다.

## 네트워킹 설정
- 인스턴스에 퍼블릭 IP 주소와 프라이빗 IP 주소가 할당됩니다.
- 선택된 서브넷과 보안 그룹이 인스턴스에 연결됩니다.
- 필요한 경우 Elastic IP 주소가 할당될 수 있습니다.

## 스토리지 설정
- 인스턴스에 연결된 EBS(Elastic Block Store) 볼륨이 초기화됩니다.
- AMI에 포함된 데이터가 루트 볼륨에 복사됩니다.
- 추가적인 EBS 볼륨이 있는 경우 인스턴스에 연결됩니다.

## 부팅 및 초기화
- 인스턴스가 부팅되고, 초기화 과정에서 설정된 사용자 데이터 스크립트가 실행될 수 있습니다.
- 클라우드 인잇(Cloud-Init) 등과 같은 초기화 도구가 사용되어 인스턴스를 설정합니다.

## 상태 확인
- 인스턴스가 실행되면서 AWS는 두 가지 상태 확인(시스템 상태 확인 및 인스턴스 상태 확인)을 수행하여 인스턴스의 정상 동작 여부를 확인합니다.
- 모든 확인이 완료되면 인스턴스는 "running" 상태로 전환됩니다.

## 사용 가능
- 인스턴스가 정상적으로 실행되고, 사용자는 SSH 또는 RDP 등을 통해 인스턴스에 접속할 수 있습니다.
- 이제 인스턴스는 사용자 애플리케이션과 서비스에 대한 요청을 처리할 준비가 완료되었습니다.
